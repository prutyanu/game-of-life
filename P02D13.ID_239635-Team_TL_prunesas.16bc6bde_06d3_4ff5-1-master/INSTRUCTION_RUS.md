# Инструкция по компиляции и запуску Game of Life

## Содержание
1. [Требования к системе](#требования-к-системе)
2. [Установка зависимостей](#установка-зависимостей)
3. [Компиляция программы](#компиляция-программы)
4. [Запуск программы](#запуск-программы)
5. [Управление программой](#управление-программой)
6. [Начальные конфигурации](#начальные-конфигурации)
7. [Проверка кода](#проверка-кода)
8. [Решение проблем](#решение-проблем)

---

## Требования к системе

### Операционная система
- Linux (Ubuntu, Debian, Fedora и т.д.)
- macOS
- Windows (через WSL - Windows Subsystem for Linux)

### Необходимое ПО
- Компилятор GCC (GNU Compiler Collection)
- Библиотека ncurses
- Make (опционально)

---

## Установка зависимостей

### Ubuntu/Debian
```bash
sudo apt-get update
sudo apt-get install gcc
sudo apt-get install libncurses5-dev libncursesw5-dev
```

### Fedora/RHEL/CentOS
```bash
sudo yum install gcc
sudo yum install ncurses-devel
```

### macOS
```bash
# Установите Homebrew если еще не установлен
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"

# Установите зависимости
brew install gcc
brew install ncurses
```

### Windows (WSL)
```bash
# Откройте WSL терминал
sudo apt-get update
sudo apt-get install gcc
sudo apt-get install libncurses5-dev libncursesw5-dev
```

---

## Компиляция программы

### Шаг 1: Перейдите в директорию проекта
```bash
cd /путь/к/P02D13.ID_239635-Team_TL_prunesas.16bc6bde_06d3_4ff5-1-master
```

### Шаг 2: Компиляция

#### Базовая компиляция
```bash
gcc -o game_of_life src/game_of_life.c -lncurses
```

**Объяснение команды:**
- `gcc` - вызов компилятора
- `-o game_of_life` - имя выходного исполняемого файла
- `src/game_of_life.c` - путь к исходному коду
- `-lncurses` - подключение библиотеки ncurses

#### Компиляция с предупреждениями (рекомендуется)
```bash
gcc -Wall -Wextra -Werror -o game_of_life src/game_of_life.c -lncurses
```

**Дополнительные флаги:**
- `-Wall` - включает все основные предупреждения
- `-Wextra` - включает дополнительные предупреждения
- `-Werror` - превращает предупреждения в ошибки

#### Компиляция с отладочной информацией
```bash
gcc -g -Wall -o game_of_life src/game_of_life.c -lncurses
```

**Флаг `-g`:** Добавляет отладочную информацию для использования с gdb

### Проверка успешной компиляции
После компиляции должен появиться исполняемый файл `game_of_life`:
```bash
ls -l game_of_life
```

Вы должны увидеть что-то вроде:
```
-rwxr-xr-x 1 user user 18624 Oct 10 12:34 game_of_life
```

---

## Запуск программы

### Базовый запуск с начальной конфигурацией
```bash
./game_of_life < initial_states/glider.txt
```

**Объяснение:**
- `./game_of_life` - запуск программы
- `<` - перенаправление ввода
- `initial_states/glider.txt` - файл с начальной конфигурацией

### Запуск с другими конфигурациями

#### Планер (Glider) - движущаяся фигура
```bash
./game_of_life < initial_states/glider.txt
```

#### Мигалка (Blinker) - периодическая фигура
```bash
./game_of_life < initial_states/blinker.txt
```

#### Жаба (Toad) - периодическая фигура
```bash
./game_of_life < initial_states/toad.txt
```

#### Маяк (Beacon) - периодическая фигура
```bash
./game_of_life < initial_states/beacon.txt
```

#### Пульсар (Pulsar) - сложная периодическая фигура
```bash
./game_of_life < initial_states/pulsar.txt
```

### Создание собственной конфигурации

Создайте текстовый файл с размерами 80×25 символов:
- Живая клетка: `O` (буква O) или `1`
- Мертвая клетка: `.` (точка) или `0` или пробел

Пример (`my_config.txt`):
```
................................................................................
................................................................................
.........OOO....................................................................
................................................................................
................................................................................
```

Запуск:
```bash
./game_of_life < my_config.txt
```

---

## Управление программой

### Клавиши управления

| Клавиша | Действие |
|---------|----------|
| **A** или **a** | Увеличить скорость (уменьшить задержку) |
| **Z** или **z** | Уменьшить скорость (увеличить задержку) |
| **ПРОБЕЛ** | Завершить программу |

### Информация на экране

Во время работы программы внизу экрана отображается:
- Подсказки по управлению
- Текущая задержка в микросекундах

### Параметры скорости

- **Минимальная задержка:** 10,000 микросекунд (0.01 секунды) - очень быстро
- **Начальная задержка:** 100,000 микросекунд (0.1 секунды) - средняя скорость
- **Максимальная задержка:** 500,000 микросекунд (0.5 секунды) - медленно
- **Шаг изменения:** 50,000 микросекунд

---

## Начальные конфигурации

### 1. Glider (Планер)
**Тип:** Движущаяся фигура

**Описание:** Маленькая фигура, которая движется по диагонали через поле. Через каждые 4 поколения возвращается к исходной форме, но смещенной на одну клетку по диагонали.

**Файл:** `initial_states/glider.txt`

**Паттерн:**
```
.O.
..O
OOO
```

### 2. Blinker (Мигалка)
**Тип:** Периодическая фигура (период 2)

**Описание:** Простейший осциллятор. Переключается между горизонтальной и вертикальной линией из трех клеток.

**Файл:** `initial_states/blinker.txt`

**Паттерны (чередуются):**
```
OOO    .O.
       .O.
       .O.
```

### 3. Toad (Жаба)
**Тип:** Периодическая фигура (период 2)

**Описание:** Осциллятор, переключающийся между двумя состояниями. Напоминает прыгающую жабу.

**Файл:** `initial_states/toad.txt`

**Паттерны (чередуются):**
```
.OOO    ..O.
OOO.    O..O
        O..O
        .O..
```

### 4. Beacon (Маяк)
**Тип:** Периодическая фигура (период 2)

**Описание:** Состоит из двух блоков 2×2, которые попеременно "мигают".

**Файл:** `initial_states/beacon.txt`

**Паттерны (чередуются):**
```
OO..    OO..
OO..    O...
..OO    ...O
..OO    ..OO
```

### 5. Pulsar (Пульсар)
**Тип:** Периодическая фигура (период 3)

**Описание:** Большая сложная фигура с периодом в 3 поколения. Один из самых известных осцилляторов.

**Файл:** `initial_states/pulsar.txt`

**Размер:** 13×13 клеток

---

## Проверка кода

### Проверка стиля с помощью clang-format

#### Установка clang-format
```bash
# Ubuntu/Debian
sudo apt-get install clang-format

# macOS
brew install clang-format
```

#### Проверка форматирования
```bash
clang-format -n -style=Google src/game_of_life.c
```

**Флаги:**
- `-n` - не изменять файл, только показать предупреждения
- `-style=Google` - использовать стиль Google

#### Автоматическое форматирование
```bash
clang-format -i -style=Google src/game_of_life.c
```

**Флаг `-i`:** Изменяет файл на месте

### Статический анализ с помощью cppcheck

#### Установка cppcheck
```bash
# Ubuntu/Debian
sudo apt-get install cppcheck

# macOS
brew install cppcheck
```

#### Запуск анализа
```bash
cppcheck --enable=all --suppress=missingIncludeSystem src/game_of_life.c
```

**Флаги:**
- `--enable=all` - включить все проверки
- `--suppress=missingIncludeSystem` - игнорировать отсутствие системных заголовков

### Проверка на утечки памяти с помощью valgrind

#### Установка valgrind
```bash
# Ubuntu/Debian
sudo apt-get install valgrind

# macOS
# Valgrind не поддерживается на новых версиях macOS
```

#### Запуск проверки
```bash
valgrind --leak-check=full ./game_of_life < initial_states/glider.txt
```

**Примечание:** Запустите программу, немного подождите и нажмите пробел для выхода.

---

## Решение проблем

### Ошибка: "ncurses.h: No such file or directory"

**Проблема:** Не установлена библиотека ncurses

**Решение:**
```bash
# Ubuntu/Debian
sudo apt-get install libncurses5-dev libncursesw5-dev

# Fedora
sudo yum install ncurses-devel

# macOS
brew install ncurses
```

### Ошибка: "undefined reference to 'initscr'"

**Проблема:** Не подключена библиотека ncurses при компиляции

**Решение:** Добавьте флаг `-lncurses`:
```bash
gcc -o game_of_life src/game_of_life.c -lncurses
```

### Ошибка: "Permission denied" при запуске

**Проблема:** Файл не имеет прав на выполнение

**Решение:**
```bash
chmod +x game_of_life
./game_of_life < initial_states/glider.txt
```

### Программа не запускается или показывает странные символы

**Проблема:** Терминал не поддерживает ncurses или неправильная кодировка

**Решение 1:** Установите переменную окружения TERM
```bash
export TERM=xterm-256color
./game_of_life < initial_states/glider.txt
```

**Решение 2:** Попробуйте другой терминал
- Linux: gnome-terminal, konsole, xterm
- macOS: Terminal.app, iTerm2
- Windows: WSL с Windows Terminal

### Поле отображается неправильно

**Проблема:** Размер терминала меньше 80×27 символов

**Решение:** Увеличьте размер окна терминала:
```bash
# Проверьте текущий размер
stty size
# Должно вывести: 25 80 или больше
```

Измените размер окна терминала вручную или:
```bash
resize -s 30 85
```

### Программа не реагирует на нажатия клавиш

**Проблема:** Неправильная инициализация ncurses

**Решение:** Убедитесь, что:
1. Программа запущена в терминале (не через IDE)
2. Используется правильная версия ncurses
3. Перекомпилируйте с флагом `-lncurses` в конце команды

---

## Дополнительные команды

### Очистка скомпилированных файлов
```bash
rm -f game_of_life
```

### Просмотр содержимого начальной конфигурации
```bash
cat initial_states/glider.txt
```

### Создание архива проекта
```bash
tar -czf game_of_life.tar.gz src/ initial_states/ *.md
```

### Распаковка архива
```bash
tar -xzf game_of_life.tar.gz
```

---

## Примеры использования

### Пример 1: Быстрый запуск
```bash
# Компиляция и запуск одной командой
gcc -o game_of_life src/game_of_life.c -lncurses && ./game_of_life < initial_states/glider.txt
```

### Пример 2: Отладка
```bash
# Компиляция с отладочной информацией
gcc -g -Wall -o game_of_life src/game_of_life.c -lncurses

# Запуск под отладчиком
gdb ./game_of_life
# В gdb:
# run < initial_states/glider.txt
```

### Пример 3: Проверка всех конфигураций
```bash
# Запуск всех конфигураций по очереди
for config in initial_states/*.txt; do
    echo "Testing $config"
    ./game_of_life < "$config"
done
```

---

## Полезные ссылки

- [Документация ncurses](https://invisible-island.net/ncurses/)
- [Википедия - Conway's Game of Life](https://ru.wikipedia.org/wiki/Игра_«Жизнь»)
- [GCC Documentation](https://gcc.gnu.org/onlinedocs/)
- [Коллекция паттернов Game of Life](https://conwaylife.com/wiki/)

---

## Контрольный список перед сдачей

- [ ] Код компилируется без ошибок и предупреждений
- [ ] Программа корректно работает со всеми 5 начальными конфигурациями
- [ ] Клавиши управления работают правильно (A, Z, ПРОБЕЛ)
- [ ] Поле корректно "замыкается" (правый край соединяется с левым)
- [ ] Пройдена проверка cppcheck без критических ошибок
- [ ] Пройдена проверка clang-format
- [ ] Пройдена проверка valgrind (нет утечек памяти)
- [ ] Функции не превышают 42 строки кода
- [ ] Код следует принципам структурного программирования
- [ ] Не используются системные вызовы через system()
- [ ] Создано минимум 5 файлов с начальными конфигурациями

---

## Заключение

Теперь у вас есть полностью функциональная программа Game of Life с интерактивным управлением. Программа готова к тестированию и сдаче проекта.

Если возникнут проблемы, обратитесь к разделу "Решение проблем" или проверьте подробное описание кода в файле `CODE_EXPLANATION_RUS.md`.

Удачи в изучении клеточных автоматов!
